<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Discord 違規字詞偵測機器人 - 隱私權政策</title>
    
    <!-- 載入 Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- 載入自定義樣式 -->
    <link rel="stylesheet" href="styles.css">
</head>
<body class="bg-gray-50 flex justify-center py-10 px-4 sm:px-6 lg:px-8">

    <div class="max-w-4xl w-full bg-white shadow-xl rounded-xl p-8 sm:p-12 border border-gray-100">

        <!-- 語言選擇區塊 -->
        <div class="mb-6 flex justify-end text-sm text-gray-500">
            <label for="language-select" class="mr-2 self-center" id="lang-label">語言選擇:</label>
            <select id="language-select" class="border rounded-lg px-3 py-1 text-gray-700 bg-gray-50 focus:ring-blue-500 focus:border-blue-500">
                <option value="zh-tw" selected>中文(繁體)</option>
                <option value="en">English</option>
                <option value="ja">日本語</option>
            </select>
        </div>
        <!-- 語言選擇區塊結束 -->

        <header class="mb-8 border-b pb-4">
            <h1 class="text-3xl font-extrabold text-gray-900 mb-2" id="policy-title">Discord 違規字詞偵測機器人 - 隱私權政策</h1>
            <p class="text-gray-500" id="policy-date">生效日期：2025 年 12 月 15 日</p>
        </header>

        <section class="policy-content text-gray-700" id="policy-content">
            <!-- 內容會被 JavaScript 動態替換 -->
        </section>

    </div>

    <!-- 1. 載入多語言內容數據 (content.js 必須先載入) -->
    <script src="content.js"></script>

    <script>
        // -------------------------------------------------------------------
        // 2. JavaScript 語言切換邏輯 (依賴於 content.js 中定義的 policyContent)
        // -------------------------------------------------------------------

        document.addEventListener('DOMContentLoaded', () => {
            // 確保 policyContent 變數存在，它來自 content.js
            if (typeof policyContent === 'undefined') {
                console.error('Error: policyContent is not defined. Make sure content.js is loaded correctly.');
                return;
            }

            const selectElement = document.getElementById('language-select');
            const policyContentElement = document.getElementById('policy-content');
            const policyTitleElement = document.getElementById('policy-title');
            const policyDateElement = document.getElementById('policy-date');
            const langLabelElement = document.getElementById('lang-label');

            const updateLanguage = (langCode) => {
                const content = policyContent[langCode];

                if (content) {
                    policyTitleElement.textContent = content.title;
                    policyDateElement.textContent = content.date;
                    langLabelElement.textContent = content.langLabel;
                    policyContentElement.innerHTML = content.content;

                    // 設置 HTML lang 屬性
                    document.documentElement.lang = langCode;

                    // 這裡可以處理其他 placeholder 的樣式清除，但我們保留紅色提醒
                    const placeholderSpans = policyContentElement.querySelectorAll('.placeholder');
                    placeholderSpans.forEach(span => {
                        // Keep red reminder for zh-tw content to prompt user replacement
                    });
                }
            };

            // 處理選擇器變化
            selectElement.addEventListener('change', (event) => {
                updateLanguage(event.target.value);
            });

            // 初始載入時，根據選中的語言（預設為 zh-tw）載入內容
            updateLanguage(selectElement.value);
        });
    </script>
</body>
</html>